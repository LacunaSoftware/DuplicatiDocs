<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="https://backup.e-notariado.org.br/02-installation/">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Instalação - Manual do Módulo Agente do Backup e-notariado</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../css/version-select.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js" defer></script>
        <script src="../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-XXXXXXXX-X', 'auto');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="..">Manual do Módulo Agente do Backup e-notariado</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Manual <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../01-introduction/">Introdução</a>
</li>
                                    
<li class="active">
    <a href="./">Instalação</a>
</li>
                                    
<li >
    <a href="../03-using-the-graphical-user-interface/">Usando a Interface Gráfica de Usuário</a>
</li>
                                    
<li >
    <a href="../04-using-duplicati-from-the-command-line/">Usando o Módulo Agente pela linha de comando</a>
</li>
                                    
<li >
    <a href="../05-storage-providers/">Provedores de Armazenamento</a>
</li>
                                    
<li >
    <a href="../06-advanced-options/">Opções Avançadas</a>
</li>
                                    
<li >
    <a href="../07-other-command-line-utilities/">Outras utilidades da linha de comando</a>
</li>
                                    
<li >
    <a href="../08-disaster-recovery/">Recuperação após desastres</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Artigos <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../appendix-a-how-the-backup-process-works/">Como o processo de backup funciona</a>
</li>
                                    
<li >
    <a href="../appendix-b-how-the-restore-process-works/">Como o processo de restauração funciona</a>
</li>
                                    
<li >
    <a href="../appendix-c-choosing-sizes-in-duplicati/">Escolhendo tamanhos corretos</a>
</li>
                                    
<li >
    <a href="../appendix-d-filters/">Filtros</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../appendix-f-license-agreement/">Licença</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../01-introduction/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../03-using-the-graphical-user-interface/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#instalacao">Instalação</a></li>
            <li><a href="#componentes-da-aplicacao">Componentes da Aplicação</a></li>
            <li><a href="#prerequisites">Prerequisites</a></li>
            <li><a href="#downloading-duplicati">Downloading Duplicati</a></li>
            <li><a href="#installing-duplicati-on-windows">Installing Duplicati on Windows</a></li>
            <li><a href="#configuring-the-duplicati-tray-icon-in-windows">Configuring the Duplicati Tray Icon in Windows</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="instalacao">Instalação<a class="headerlink" href="#instalacao" title="Permanent link">&para;</a></h1>
<h2 id="componentes-da-aplicacao">Componentes da Aplicação<a class="headerlink" href="#componentes-da-aplicacao" title="Permanent link">&para;</a></h2>
<p>Before installing Duplicati, you should know how the different components relate to each other and how they can be configured. This makes it easier to decide how the software can be installed the way that matches your needs. The main components are:</p>
<ul>
<li><strong>The Server</strong><br />
When the Duplicati server is started, Duplicati can perform tasks in the background, like making backups, do restore operations and perform maintenance tasks.<br />
The server part has a built-in scheduler to start backup jobs automatically at regular intervals.<br />
For configuring new, of modifying existing backup jobs, change settings en monitoring running backups, a web server is included in the server component.<br />
If the server component starts, the webservice listens on the loopback interface, making it reachable from the local host only. The server tries to start listening on TCP port 8200. If this port is unavailable (because of another running Duplicati server instance or another process that uses port 8200), port 8300 will be tried, increasing until an unused port is found. Port and interface can be customized by specifying some command line parameters.</li>
<li><strong>The Command Line tools</strong><br />
Duplicati can make backups without loading the server component, using the command line tools. To schedule backups without using the server component, almost all task schedulers can be used, for example the Windows Task Scheduler (Windows) or Cron (Linux).<br />
Other command line tools can help with restore operations, recovering files from corrupted backups, installing the server component as a server, analyze communication with backends or update the software.</li>
<li><strong>The Tray Icon</strong><br />
When started, the Duplicati Tray icon tool creates a small icon in the System Tray for easy access to the Duplicati Web Interface. The server component is included in the Tray Icon tool. After a default installation, the Tray Icon tool will be automatically started after a user logs on, making it unnecessary to configure the server component in an everyday use case.</li>
<li><strong>The Service</strong><br />
Basically this is the same as the Duplicati Server component, but running as a Windows service. If Duplicati is registered as a Windows service, a small agent starts the server component and pings the server to verify it is running. If the server component is unreachable, the agent will restart it.</li>
</ul>
<p>When a backup is made, Duplicati has the same permissions to the file system as the user context it is running in. If Duplicati is started with the Tray Icon tool, or if a user starts the Server component, or the command line tools are used, a backup can be made from all files that the user has read access to. Probably personal documents of other users that log on the same computer cannot be backed up by this instance.</p>
<p>However, other users can run their own Duplicati server instance (using different port numbers for the web server), which will give them access to their own personal files. The settings and backup configurations are stored at separate locations, so all users will see their own Duplicati environment.</p>
<p>If you want to be able to access all files on your computer and backup files from multiple users with the same Duplicati instance, the best option is to register Duplicati as a Windows service. Services are started by default with the Local System account. This account has NTFS permissions to the complete file system. Note that this will give the backup operator access to the files from all users that log on to the computer by using the source file picker in the Duplicati Web interface. It is highly recommended to secure the web interface with a strong password in this case.</p>
<p>Registering Duplicati as a service could also be a solution if you want to make use of Volume Shadowcopy Services (VSS), but your user account does not have administrative privileges.</p>
<hr />
<blockquote>
<p><img alt="" src="../icon_important.png" /> Running Duplicati using the Tray Icon causes the Duplicati Server component to start after the user logs on. If you want Duplicati to be able to run backups after a restart, before a user logs on, consider registering Duplicati as a service.</p>
</blockquote>
<hr />
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">&para;</a></h2>
<hr />
<p><img alt="" src="../icon_windows_begin.png" /> Duplicati depends on other software. For Windows, Microsoft .NET Framework 4.5 or higher needs to be installed. Linux and Mac OS X require Mono to be installed.</p>
<p>If your system has no or an outdated version of the .NET Framework, download the latest version from <a href="https://www.microsoft.com/net/download/framework">https://www.microsoft.com/net/download/framework</a> and install it.</p>
<p>To be able to backup files that are in use by another process, Duplicati uses AlphaVSS to accomplish this. AlphaVSS needs the Visual C++ run-time components for Visual Studio 2015. Download and install the binaries from <a href="https://www.microsoft.com/en-us/download/details.aspx?id=48145">https://www.microsoft.com/en-us/download/details.aspx?id=48145</a>. <img alt="" src="../icon_windows_end.png" /></p>
<hr />
<hr />
<p><img alt="" src="../icon_linux_begin.png" /> Follow this procedure to install Mono on your Linux based system.</span></span></p>
<p><strong>Ubuntu 16.04:</strong>  </p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/ubuntu xenial main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>Ubuntu 14.04:</strong></p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/ubuntu trusty main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>Ubuntu 12.04:</strong></p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/ubuntu precise main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>Debian 9:</strong></p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/debian stretch main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>Debian 8:</strong></p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/debian jessie main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>Debian 7:</strong></p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/debian wheezy main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>Raspbian 9:</strong></p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/debian raspbianstretch main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>Raspbian 8:</strong></p>
<div class="codehilite"><pre><span></span>sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys 3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF

echo &quot;deb http://download.mono-project.com/repo/debian raspbianjessie main&quot; | sudo tee /etc/apt/sources.list.d/mono-official.list

sudo apt-get update

sudo apt-get install mono-devel
</pre></div>


<p><strong>CentOS 7:</strong></p>
<div class="codehilite"><pre><span></span>yum install yum-utils

rpm --import &quot;http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot;

yum-config-manager --add-repo http://download.mono-project.com/repo/centos7/

yum install mono-devel
</pre></div>


<p><strong>CentOS 6:</strong></p>
<div class="codehilite"><pre><span></span>yum install yum-utils

rpm --import &quot;http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0x3FA7E0328081BFF6A14DA29AA6A19B38D3D831EF&quot;

yum-config-manager --add-repo http://download.mono-project.com/repo/centos6/

yum install mono-devel
</pre></div>


<p><img alt="" src="../icon_linux_end.png" />  </p>
<hr />
<hr />
<p><img alt="" src="../icon_apple_begin.png" /> Download the latest Mono version from <a href="http://www.mono-project.com/download/">http://www.mono-project.com/download/</a>. Run the .pkg file and accept the terms of the license.</p>
<p>Alternatively, you can install Mono using Homebrew:</p>
<div class="codehilite"><pre><span></span>brew install mono
</pre></div>


<p><img alt="" src="../icon_apple_end.png" /></p>
<hr />
<h2 id="downloading-duplicati">Downloading Duplicati<a class="headerlink" href="#downloading-duplicati" title="Permanent link">&para;</a></h2>
<p>Duplicati can be downloaded from <a href="https://www.duplicati.com/download">https://www.duplicati.com/download</a>. Choose the version that matches your operating system. The Zip file version contains the binaries without an OS-specific installer. Use the Zip file version for a portable installation or if you want to use the Command Line tools only. This version can be used for all supported operating systems.</p>
<h2 id="installing-duplicati-on-windows">Installing Duplicati on Windows<a class="headerlink" href="#installing-duplicati-on-windows" title="Permanent link">&para;</a></h2>
<hr />
<p><img alt="" src="../icon_windows_begin.png" /> The installation procedure for Windows systems is pretty straightforward. Download the Windows MSI installer package from <a href="https://www.duplicati.com/download">https://www.duplicati.com/download</a>. If you have a 32 bit version of Windows, download the Windows 32 bit installer package.</p>
<p>First step is the Welcome screen. Click Next to proceed.</p>
<p><img alt="" src="../ss_installwindows_01.png" /></p>
<p>Read the license agreement. If you agree, select <em>I accept the terms in the License Agreement</em> and click Next.</p>
<p><img alt="" src="../ss_installwindows_02.png" /></p>
<p>Select which components you want to install. Pay special attention to <em>Launch Duplicati at startup</em>. If it is selected, the Duplicati Tray Icon Tool will be started automatically after logging on to Windows. The Duplicati Server component is included in the Tray Icon tool. If you want to start the server component another way (i.e. by registering the server component as a Windows service), you have 2 options:</p>
<ul>
<li>Disable <em>Launch Duplicati at startup</em>.  </li>
</ul>
<p><img alt="" src="../ss_installwindows_03.png" /></p>
<p>The Tray Icon tool will be installed, but not automatically started. You can start it manually by executing Duplicati.GUI.TrayIcon.exe.</span></span>
* Keep <em>Launch Duplicati at startup</em> enabled, but modify the properties of the shortcut after the installation wizard has been completed.<br />
This will ease access to the Duplicati Web interface, but if you don't manually deactivate the internal server component, you will end up with multiple Duplicati instances, which is probably undesirable.</p>
<p>Click Next to proceed.  </p>
<p><img alt="" src="../ss_installwindows_04.png" /></p>
<p>Click the Install button to start the installation.</p>
<p><img alt="" src="../ss_installwindows_05.png" /></p>
<p>Wait for the installation procedure to complete.</p>
<p><img alt="" src="../ss_installwindows_06.png" /></p>
<p>If you don't want to start the Duplicati Tray Icon tool now (i.e. if you want to register it as a service), deselect <em>Launch Duplicati now</em>.</p>
<p>Click Finish to complete the installation wizard.</p>
<p><img alt="" src="../ss_installwindows_07.png" /></p>
<p>The first time the server component starts, Windows Firewall (or another third party firewall application) may show an alert. Allow Duplicati to communicate over the network.</p>
<p><img alt="" src="../ss_installwindows_08.png" /></p>
<h2 id="configuring-the-duplicati-tray-icon-in-windows">Configuring the Duplicati Tray Icon in Windows<a class="headerlink" href="#configuring-the-duplicati-tray-icon-in-windows" title="Permanent link">&para;</a></h2>
<p>If you have chosen <em>Launch Duplicati at startup</em>, but don't want to use the internal server component of the Tray Icon tool, you have to edit the properties of the Duplicati shortcut in the Windows Startup folder. Usually Windows Startup folder is located at <code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\StartUp</code></p>
<p>Browse to this folder and edit the properties of the Duplicati 2 shortcut. Add space and after <code>--no-hosted-server</code> to the Target field. So the end of the line should look like <code>Duplicati.GUI.TrayIcon.exe" --no-hosted-server</code></p>
<p><img alt="" src="../ss_conftrayicon_01.png" /></p>
<p>Because at the moment the internal server component of the Tray Icon tool is already running you need to restart your PC for changes to take effect. After PC restart a Duplicati icon will be shown in the system tray after logging in to Windows, but the Duplicati server component needs to be started separately.</p>
<hr />
<blockquote>
<p><img alt="" src="../icon_info.png" /> If you disabled Launch Duplicati at startup in the installation wizard and want to startup the Duplicati Server component during bootup time, you have to register Duplicati Server as a Windows service. See <a href="07-other-command-line-utilities/#duplicatiwindowsserviceexe">Duplicati.WindowsService.exe</a> for more information.</p>
</blockquote>
<hr />
<p><img alt="" src="../icon_windows_end.png" /></p>
<hr /></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../js/base.js" defer></script>
        <script src="../js/version-select.js" defer></script>
        <script src="../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
